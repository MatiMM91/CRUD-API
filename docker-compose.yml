version: '3.9'
services:
nodejs: 
build:
context:
image: amakundu/crud-api
depends_on: 
- mysqld
networks:
- frontend
- backend
environment:
- MYSQL_HOST=localhost
- MYSQL_USER=root
- MYSQL_PASSWORD=''
- MYSQL_DB=apiautos
volumes:
- ./www/:/var/www/html/
ports:
- "30001:8005"
container_name: crup-api
mysql:
image:mysql:8 networks:
- backend environment:
- MYSQL_HOST=localhost
- MYSQL_USER=root
- MYSQL_PASSWORD=''
- MYSQL_DATABASE=apiautos container_name: crup-api
phpmyadmin:image:phpmyadmin/phpmyadmin:4.7 depends_on:
- mysql networks:
- backend ports: 
- 30002:80 environment:
- PMA_HOST=crup-api
- PMA_PORT= 3306 volumes:
- /sessions container_name:my-phpmyadmin-app networks:
frontend:
backend: